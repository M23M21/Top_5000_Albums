<h1><%= album.release_name %></h1>
<p><%= album.artist_name %></p>
<p><%= album.release_date %></p>
<p><%= album.descriptors %></p>

<!-- CRUD operation buttons -->
<div class="crud-buttons">
  <!-- Edit -->
  <button onclick="window.location.href='/albums/edit/<%= album._id %>'">Edit</button>
  <!-- Delete -->
  <button onclick="confirmDelete('<%= album._id %>')">Delete</button>
</div>

<!-- Script for delete operation -->
<script>
  function confirmDelete(id) {
    if (confirm('Are you sure you want to delete this album?')) {
      deleteAlbum(id);
    }
  }

  function deleteAlbum(id) {
    fetch('/albums/' + id, {
      method: 'DELETE',
    })
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          // Redirect to the album list page after deletion
          window.location.href = '/albums';
        } else {
          // Display the error
          alert(data.error);
        }
      })
      .catch(error => {
        console.error('Error deleting album:', error);
        alert('Failed to delete the album');
      });
  }
</script>
